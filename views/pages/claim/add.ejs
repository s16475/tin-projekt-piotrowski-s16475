<%- include('../../fragments/header.ejs') %>

    <main>
        <h2><%= __('claim.claims.add.pageTitle') %></h2>

        <script type="application/javascript" src="/js/validationClaimAdd.js"></script>
        
        <form class="form" method="post" action="/claims/doadd" novalidate onsubmit="return validateForm2();">

            <div style="display: none">
                <span id="errorMessage-required"><%= __('validation.fieldRequired') %></span>
                <span id="errorMessage-characters"><%= __('validation.characters') %></span>
                <span id="errorMessage-date"><%= __('validation.date') %></span>
                <span id="errorMessage-fdate"><%= __('validation.fdate') %></span>
                <span id="errorMessage-number"><%= __('validation.number') %></span>
                <span id="errorMessage-pnumber"><%= __('validation.pnumber') %></span>
            </div>
            
            <label for="claimDate"><%= __('claim.claims.add.form.claimDate') %><abbr title="required" aria-label="required">*</abbr></label>
            <input 
            
            <% if (validationErrors != null) { %>      
                class="<%= validationErrors.find(e => e.path.includes('date')) ? 'error-input' : '' %>"
            <% } %>
            
            type="date" name="date" id="claimDate" placeholder="<%= __('claim.claims.add.placeholder.date') %>"/>
            <span id="errorClaimDate" class="errors-text">

            <% if (validationErrors != null) { %>                
                <% if (validationErrors.find(e => e.path.includes('date'))) { %>
                    <%= validationErrors.find(e => e.path.includes('date')).message %>
            <% } %>
            <% } %>

            </span>
            
            <label for="claimValue"><%= __('claim.claims.add.form.claimValue') %><abbr title="required" aria-label="required">*</abbr></label>
            <input 
            
            <% if (validationErrors != null) { %>      
                class="<%= validationErrors.find(e => e.path.includes('value')) ? 'error-input' : '' %>"
            <% } %>
            
            type="number" name="value" id="claimValue" placeholder="<%= __('claim.claims.add.placeholder.value') %>"/>
            <span id="errorClaimValue" class="errors-text">

            <% if (validationErrors != null) { %>                
                <% if (validationErrors.find(e => e.path.includes('value'))) { %>
                    <%= validationErrors.find(e => e.path.includes('value')).message %>
            <% } %>
            <% } %>

            </span>

            <label for="claimCause"><%= __('claim.claims.add.form.cause') %><abbr title="required" aria-label="required">*</abbr></label>
            <input 
            
            <% if (validationErrors != null) { %>      
                class="<%= validationErrors.find(e => e.path.includes('cause')) ? 'error-input' : '' %>"
            <% } %>
            
            type="text" name="cause" id="claimCause" placeholder="<%= __('claim.claims.add.placeholder.cause') %>"/>
            <span id="errorClaimCause" class="errors-text">

            <% if (validationErrors != null) { %>                
                <% if (validationErrors.find(e => e.path.includes('cause'))) { %>
                    <%= validationErrors.find(e => e.path.includes('cause')).message %>
            <% } %>
            <% } %>

            </span>

            <label for="claimPolicy"><%= __('claim.claims.add.form.claimPolicy') %><abbr title="required" aria-label="required">*</abbr></label>
            <input 
            
            <% if (validationErrors != null) { %>      
                class="<%= validationErrors.find(e => e.path.includes('policy')) ? 'error-input' : '' %>"
            <% } %>
            
            type="number" name="policy" id="claimPolicy" placeholder="<%= __('claim.claims.add.placeholder.policy') %>"/>
            <span id="errorClaimPolicy" class="errors-text">

            <% if (validationErrors != null) { %>                
                <% if (validationErrors.find(e => e.path.includes('policy'))) { %>
                    <%= validationErrors.find(e => e.path.includes('policy')).message %>
            <% } %>
            <% } %>

            </span> 

            <label for="claimEmployee"><%= __('claim.claims.add.form.claimEmployee') %><abbr title="required" aria-label="required">*</abbr></label>
            <input 
            
            <% if (validationErrors != null) { %>      
                class="<%= validationErrors.find(e => e.path.includes('emp')) ? 'error-input' : '' %>"
            <% } %>

            type="number" name="emp" id="claimEmployee" placeholder="<%= __('claim.claims.add.placeholder.emp') %>"/>
            <span id="errorClaimEmployee" class="errors-text">
                
            <% if (validationErrors != null) { %>                
                <% if (validationErrors.find(e => e.path.includes('emp'))) { %>
                    <%= validationErrors.find(e => e.path.includes('emp')).message %>
            <% } %>
            <% } %>

            </span> 

            <div class="form-buttons">
                <p id="errorsSummary" class="errors-text"></p>
                <input type="submit" class="form-button-submit" value="<%= __('claim.claims.add.form-buttons.form-button-assign') %>" />
                <a href="/claims" class="form-button-cancel"><%= __('claim.claims.add.form-buttons.form-button-cancel') %></a>
            </div>
        </form>
        
    </main>

    <%- include('../../fragments/footer.ejs') %>

</body>
</html>